<hr>
<footer>
    <p>&copy; 2025 Kaiky. All rights reserved.</p>
</footer>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const themeSwitch = document.getElementById('theme-switch');
    const dogImage = document.getElementById('dog-image');

    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-mode');
      if (themeSwitch) themeSwitch.checked = true;
      if (dogImage) dogImage.src = "/img/doberman.png";
    } else {
      document.body.classList.remove('dark-mode');
      if (themeSwitch) themeSwitch.checked = false;
      if (dogImage) dogImage.src = "/img/bordercolie.png";
    }

    if (themeSwitch) {
      themeSwitch.addEventListener('change', () => {
        if (themeSwitch.checked) {
          document.body.classList.add('dark-mode');
          if (dogImage) dogImage.src = "/img/doberman.png";
          localStorage.setItem('theme', 'dark');
        } else {
          document.body.classList.remove('dark-mode');
          if (dogImage) dogImage.src = "/img/bordercolie.png";
          localStorage.setItem('theme', 'light');
        }
      });
    }
  });

  const modal = document.getElementById("modal");
  const modalBody = document.getElementById("modal-body");
  const closeModal = document.getElementById("close-modal");

  closeModal.onclick = () => modal.style.display = "none";
  window.onclick = (e) => { if (e.target === modal) modal.style.display = "none"; };

  document.querySelectorAll('.add-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      modalBody.innerHTML = `
        <h2>Add a New Pet</h2>
        <form action="/pets/add" method="POST">
          <label>Name:</label>
          <input type="text" name="name" required><br>
          <label>Type:</label>
          <input type="text" name="type" required><br>
          <label>Age:</label>
          <input type="number" name="age" required><br>
          <button type="submit">Add Pet</button>
        </form>
      `;
      modal.style.display = "block";
    });
  });

  document.querySelectorAll('.edit-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const pet = e.target.closest('.pet-item');
      const id = pet.dataset.id;
      const name = pet.dataset.name;
      const type = pet.dataset.type;
      const age = pet.dataset.age;

      modalBody.innerHTML = `
        <h2>Edit Pet</h2>
        <form action="/pets/edit/${id}?_method=PATCH" method="POST">
          <label>Name:</label>
          <input type="text" name="name" value="${name}" required><br>
          <label>Type:</label>
          <input type="text" name="type" value="${type}" required><br>
          <label>Age:</label>
          <input type="number" name="age" value="${age}" required><br>
          <button type="submit">Save Changes</button>
        </form>
      `;
      modal.style.display = "block";
    });
  });

  document.querySelectorAll('.delete-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const pet = e.target.closest('.pet-item');
      const id = pet.dataset.id;
      const name = pet.dataset.name;

      modalBody.innerHTML = `
        <h2>Delete Pet</h2>
        <p>Are you sure you want to delete <strong>${name}</strong>?</p>
        <form action="/pets/delete/${id}?_method=DELETE" method="POST">
          <button type="submit">Yes, Delete</button>
        </form>
      `;
      modal.style.display = "block";
    });
  });
</script>
